结合自己的工作经历，总结一下这些年项目里碰到的难点

第一个阶段，知识储备
业务逻辑很复杂而且多变

模块规范、模块开发工具链、模块发布和版本管理、在线管理、

富文本内容发布业务需求，光是一个富文本编辑器就很复杂，要实现各种功能和兼容性，更复杂的是要适应业务发展。做业务的时候，市场现有的编辑器是不满足产品需求的。从 0 到 1 开发编辑器肯定需要花费时间和精力。业务方肯定不会给出这么多时间，只能在阅读现有编辑器源码基础上重新开发。

数据管理系统，
封装动态表单，
后端按照业务需求进行配置即可产出内容发布表单。

当时涉及很多人，光前端就多个团队投入一共 4 个人（包括模块系统、可视化拖拽等），后端也非常多。而且时间要求特别紧，。我作为整个项目 PM 简直要累死，前期讨论可能性并设计功能、分工，然后要一遍遍的跟不同的人解释概念、流程，然后糅合在一起开发、处理新出现的问题。天天加班，每天一罐红牛，终于在双十一既定时间前糊弄出来一套可以用的了。这个我也觉得很难，已经超出了前端的范围了，除了前端之外还要了解后端系统的限制对方案进行调整、项目管理等。不过这套也有新的问题，比如交互操作多，体验比不上 HTML base 的 新榜微信编辑器-让你的图文编辑生动有趣 这种，然后模块扩展依赖开发，成本高，等等。这些新问题就像挖坑挖出来的，越挖越难越复杂。。。总结下来我觉得前端比较难的几个点：前端本身业务逻辑、实现方式比较多样、复杂，技术选型、方案设计很难，这要求你对多种技术框架、工具都有一定的了解面对不同业务需求进行抽象、设计、研发以及关联系统的自主研发（跨技术栈）比较难将业务需求、交互设计、数据等糅合在一起开发出来展现给用户，跟多方沟通打交道比较难，良好的沟通需要多种领域的知识

1. 兼容 PC 和移动端富文本编辑器碰到的难点
   控制光标的状态和位置
   selection range 操作光标

   selection 对象表示用户选择的文本范围或插入符号的当前位置。
   let range = selection.getRangeAt(0);
   表示第 0 个文本的区域
   通过 rang 对象

   需要考虑到节点发生变化，光标也要调到合适的地方，通过重新创造一个 range 对象并且删除原有的 ranges 来保证光标一定会变动到我们想要的位置。

   修改文本格式
   document.execCommand
   backColor
   修改文档的背景颜色
   bold
   开启或关闭选中文字或插入点的粗体字效果
   copy
   拷贝当前选中内容到剪贴板。
   createLink
   将选中内容创建为一个锚链接。
   去除所选的锚链接的<a>标签
   unlink
   insertBrOnReturn
   控制当按下 Enter 键时，是插入 br 标签还是把当前块元素变成两个。(IE 浏览器不支持)
   justifyCenter justifyLeft justifyRight
   对光标插入位置或者所选内容进行中右左对齐。
   redo
   undo
   撤销最近执行的命令。

移动端低端机 input 事件
当用户当前输入法状态是中文时，在未选择词组到输入框也会触发事件

自动获取焦点

2. 发这些垂直解决方案的时候，业务分析、技术选型、组件库架构设计、以及落地是非常难的。
