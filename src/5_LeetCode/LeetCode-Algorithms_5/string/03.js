/**
 * 给定一个字符串，找到它的第一个不重复的字符，并返回它的索引。如果不存在，则返回 -1。
 * 案例:
 * s = "leetcode"
 * 返回 0.
 * s = "loveleetcode",
 * 返回 2.
 * 注意事项：您可以假定该字符串只包含小写字母。
 */

 let s = "leetcode"
 let s1 = "loveleetcode"
 let s2 = "ll"
let s3 = "drromvokmkgfwctvxiieihttfxvotbhrgnplajdcrfvqdoqnfismlxlsmhfuectbkchrmqhdsvqnbowpkftjkogpcpvbjegqbjkgpsdohhieqepneacklmnbixgnmxoxjkxnjghbjguvqgqxfrapqrpagwawlktvuvxltvkhgjnjbvmddimrhunnngkgaxgkaccslhfvpxlhubjtqexhkwoxlffnkehhxahbsmxfvbvqxchosparqatwsuibqsntajhaqdbgoxlslhpvdxaqjiuladmmubbokdrqoosaurhxbkihsvhkfoivhcavfrcrpxwqsttmwhoxhrmepjesumaufanvlcbcwmfiwdeqladqxfinckhfgitbepttgdgepuhbigehfntupfgitskvdlsttfrxovaecnmssdlodgjtjdwqkxtrtwvcclijuapmxittledhfddtuvqshccbgwtprixcouetpvvfspbjderohvkiktqomoeqawxbfqxbimjprfifvqmtmrhbmkehgurihdhojghpdnhjhowktqutsjvflopfskceojacdefmipbdmjtivfqfrhnniajgcowofgsejtirqtnoqqqhlurrrboquareergnmcuuflrebjtrtbnaviwxcbawvwixkcrbtholwmixnrevvfrcmiqqunvinkvvctidtdradvmbldarwefvwlplxodndmriocdkcqnlwxwtkggfxwqceckjutcfgllxfqjocerngknmelhbgltihvbabwdbqqulpvsqbiwflwseiscomcvhgmvsxnwaitmdmbaxbdmdntumoditsepqaxophbckoukhemidjpcxebmtogiigbrsxvtfpcpxstxhxnvfikikqhjriddwsrkfcpfgjqhquhkevfvuanptbgeourbummccavekutpmujmfoeqiiqhthontkjrsgblitppppcsesjutskhkathqcxtpkdljxbchsnwxuggogplujhjaqwqmkbxtupappucxfosrkhtnbtjtesauaicpadafjeapgkbbudlorfkwbevvjnjoiseqcgxphmtodtheqnqvbqllhexucwxvaegpkkdbhfpoawnbxjcokxvdmbapfgxbqwrugpfjcqxovntgksireljogeqweumcbifiqnvrovrxaoafrhtxhmgvheobfkerjjrbodkbvlvxcseovhlhlsvhwdlrcgpnrcwcklehoufqtirxutpsinfmkppgkjggstlidlunaggstcfcithgpmxunbrgnlrfsurfjucknsluloqhxhefgjdqwrjtlupjdvpimfgxuibwbwtmtxgphkapvpimeujkuvwcuqwlnataxxvldcesqqgcstokikobmookrtfwqbhttuxugbxadtxqfekdxhhvvwoqdxrqnnfoxmrnguxbwcirwunkjltwwwxuseccmswrkokastdtlhmnvrwegotuhfapgksdvjkmdmtmkwdabajfsdwdgqhqqfcqqrombsqiuetswuapqoxioufwcaojrumxoiqlgmrumhtroxcjibxhhlcnaqrqsehnbiidfrubluljknivbirqohfrcwpmdtkrkjorhxcojvksspldtnmfmbirgcrvmjplplrpkpddoqanxuctgwjwpbavggwtgaleswruajgasgxbhwwosehrbpqoqjxppoqlkbhixulonhewddxthhpqbcflwclajngqpwdtrctuadkfmuulfpikoucuxkmoslueqlmgfbwdbjwvirfnvttastvrtbhsejdoxjtjdklbrtdgbklbneirmigdcholngdwdhhstvtqjphjopgpotgfelgkmurjhetuupbtmcgqxwsnopvqrowfsdfejhpfjrtjkpqtaikxvqvsddjlnvxpokcdjjbocweufqntxikhjuarelcabscwqogwukpmmdwwfsqrhdeafmkqrxppxloxaarnssqpwiiolvaabpraawmskxqjobeugqbjtjuaqvlmvboffmqbslnmpswwnutucnrriwmgsrpievbkdekkttwaicjmgeuhvbpwpcasevsdjssgengmdohfvvqfarhgnsewkvpdwjhusairgqnwcdpewmuatslambhtppkjjnedjhmelooailotlouoxjrvawbmqiqmtjkbehggjuccfofenvbnveagdbjstacvfuinnhnxcnrfrmuhsptplerklrimcwidipppdrbqnhsqunkklvbmsqtbkqnkelrosswxwluaruwtpbqprhddkkpepujnrhvpnvwgvwdxqkepqhwwlfceuafkkwuubsgvhiodckrnbsndailnaxwpwlultwvxudrakcxxmgmdutaaaupocmwfcdnhkdmwkubbnnrrdluarhoegltqqvdvwihhphdkttmpqhdrikkvamhrevhejcnxmrtkkihchjckcbgxjbwrblsgbrcrxtlttiijdhdpwwmkfkrupipmmmhemqfhjifskdptkuvxrcciamvpcbfgjxikxspxxquuddhqhpfuguldtvbrdscabmcabhbhjfqhfirilxewgnxmgpgiqnmrkkixsxlshfavisvuuncecfackqdwlqlrosansrunsjfvmastukgnietffqslctirdesnrhekqawijdrvrtbukkdfabifpasidaxuphmacmmuxtbdntsgxogttbhoawsgmwxemsmpbdpehalmgbkfocmohkxfhmqeifruradqlwwvhcwiomijrmggckxtlldbowfuuickcfrraqthuvvixnuegcqhmlmffkvfwtqfuabxdmscqmbuqvfpcbkbcukbxghoqkgklpghousjsjluudkpvrmcffgttflxiluigrpcljekkuurtjcfjagifaqwbocjqwbhehvxqthpielrffwavxbwsdhxraldhfghxraohjepukbxkifarwvrmhtaluqfmgcbohpawmskwgvqckqvevbltdnqqkgqbtwnrjktxfsrwqawgchqieglajvpgchtvkbjagksbkldmqbiekbamkdrrpcgwdlwimexlqxcmexjbfjwfixojirgxhvujpbbsqooknanicdjlrqjsfqbvgibdhnjnukftqiwnggcvwjfdkvqbjnrbmpkdidotdwrtksifkictgjnsjbteufofkxcrbpseueosxldilxdstkxhfllkfjjcppiueqnhoudqxeipxdacvfvbiexsorrouamlpxatliinceflhtoudkpcquhovewlrbpildkcjvvkhuustxpwhaljxkdvtcbhglpsqvdlbndfqlfolqcrxxdodwuxqerelvpjguuolabhlsonpwpgmqwqejrmtkoqhaufurulhgxrbbjbgqhdodnjetlegljnemagmttkeworcxnjjprsnpparlrxxqqkiqceelrdmqfrfftfitvkrvmgvslnhbgpmflpnjhwnvmaeksftlesbmmjohjgwvimxkbqxumlafugvpkrcxfuofacmdutleqblaofjfrkvhucrddreaapqahbbolkqxvwgwspfteuluuwihwndovlpmrpepoedoidknlpbphpedmjkccfvivqdjhsugoknahinmtdwacugfntgfabtpxgtqatsuccggnnxmkfehduckomwqhjekmnijudobkowppkkngtcmmnqrimqsxwcktnllujqmxfuuxqmgjhsonjxkjevmagdxmwjhpmpgagcnenhaticnupbwmkmntsiqpivvfgnxndwbgtjckvlklxufwxhoptbfvmgmpoagxlrrgidfiinfribgrmugeqohviteudjtnwculwebuiawhmqsmhuotqpgpwnwexapxmtcntovpftlesbqpjpotvdbeuukprmsffsnfbprixixacljdtvnmwdjluihwbhtqrrljpaopofatmpnxmwdwcxguuioqhhthqgmefjmellwgagdtdjksdxxaowwouvjlkcjttskquclqgwehsihxiduobaqpwbociukqrljckrmkhhhuabvgbkwwnpmtgccwiwwkxdikncdsrlncfeswwgnqsdjkekuhdofsnlirgdalvanprlohxfafathfjhndknrwltbwdndkmqqvmfcrniqmxjxllcueldxajdcbwilburntgronooewptbemdbsaqsqqtulgmqphdfshqjclbfkakurskglqdinocgtsqtetaaaxsuqvptqkojbhxjrcfrxurijuvmqswfhwxoqcbfivhqukjsuapgotqegttcmdpnpngibupddcuitdjckjppdrpajpsoiobpwcrrtbjgaxxrmbpbffftnqwukakhcdnmogwshlxopvgucwlgumlduherjolgusktxkgdmbicjfcjkrujqwhgivdpprmkvtcnpfjtccndnnshgcmmxltfsernlromootcqogkkiojtpqxnbrmmlfhcdplowjevtwrspxjdstdmccqihuuugfvgkmtoqfjfcdslxsqfqebpwkdfcncjfnxirstfhruldshnfixqcaemcwqwluwcommhapdtmpmbotvxdrefibelqggtsarpkbvmxvmhfnswenxsqekdsvavxevcaclrkvrvocnjeevkdblnulhtanrrpgpfdllpuajevgpjpuogvhjqpmmttqgiagrevasbsbmrvtsqivvbahcdbiaoriajlcwveuhadcdlexnmwwjlorwplpdbllhewtlskgtlgjwcmmbaiqkngemltbxoskkrkidtgnfknauolinbiucgprmisgbmevrjptewhsgfxmvilecrnhoglbiejnmdtuvlokgnpvgfmacpsxixhujnjjfbopwmfpopfgspnoujeltdclwuwkbujmoxluhvuvlooxafrnbkpmxmcwexsawctbjeouirppvhhnpwlrmhnuxlbjtilxjahhosbxbngvekciqcllgqwdtirelxjhcfnporkubtrpxqwhcbjdwfcrsrrplveiqrnrjxlmjcqnwacdwewrnxswuarsebnktuanoodpidtgkcaumkqfsnurcujmndkenxmkgnkfpvkmtgpcltiwoprmewbghuexerkciviowiffqvpvmixwjosfbujislulakttfnvjumesshqmwidtkjnncqccniriclngvfrqrkxkakkijuwgkaudpkcmrukordcdxnmjhrhhtqnbhswwamwbwjsvfwbmwkicdowflbkhdikpomvnvucvsvtobgnujjbckhhlaljdhcpcgrkraakirglphvfejhuumqiftovdhxfcacuesbvceneifctfxuraikxrxcnhmonwlwnedwdtsqerdvwosbhwxewbcaixwxfxbvurcpedecfrcowrtuiwbwldehasmdwvpabvquqrrqwsswtusitpnrqxwpmbpjjipvuoewpwsmxcsmfiosadlmtxiblmhjnpbwvgxejswfpkcbufxmiiuxojbupdkubeflelqpwnoeqkumbtgfbxqlipsihotrxfrdkoanxxsabbofsktnmiopjxsfduiaotagvgxqchbbsiieibfnjsptikcmlxcsowaugnuqahlztqtsejvebxsappkehnifpfsoobxlcnctfpgwecscknimnqjwiptmrcfdllrtostuonkismvqwvakktxauucumdrdxdcqgnjthmpjupgndxdppbvmuoohqrixabbijqsgqlmiusujtsrncklcjlwunmqwqmxngrghkrsvbxafmijtuwaibueluebiwomgpboothqqtmbiihmbveviobnndqegrvhmlqcrfnhcrsacgabaogscoktjlbjpdcaokwrswcxsnimuolrpfsomdxwhvapllfimeluraapbgqwnaitoujrimxvqplgsbvxxrgkecfpwmqfvmoaortugatrdtsafvuuvrimvusqjqssecxaooxhejdciihstxiqaurrtohccadfdkjkwjxjewhganipvxksasrsphemsnwfrefxxurdnphasewnjfktmmqxijbxapctpiswiggmimsgourubspteafhotvsfhgwtxsprxgvuvsbnnbnnylbiijljobwpdehhhdecpjfjkfqvpgqenmnjsvkkqntafsftjplewggplmujkhegttjgqwfisbaadqjvweuweovxbwuwggklhqshaxlemnvvpqlhvkqrrcmqcnrwlrrmkltfuxnmhiujxjcbndhufplchhcarbsxtejptvdcbtslvkgjavapjabobnimifepbspvmsuwewkmqmibnsmcdupdghllrxijgothrgagojklixaalakoesmjavcekfwxjafobbierecanlghmqlkvlbbvhoififacqhrmceatgdupxqfpbggmpwkhmwfqannbfgjcleiornnwejcmvmldocmvnlvnfqnojmflcoojtxoslhodknaaigqxkmhkpdarsjvxifbunjedsksmjavfejmnlkmrnrgsjnbhvhchpnrbbenqkvlrtmdhifdraqarwpkbrmqciqevkkavnfaunokfamukqqvxrphotvdnjvvndhbucahvcqdhnaatfkgsroqxmktitknkgakvqofwkrfnvqowporthugkecbdmxdvbadjqfuwfkrhbvwsndqdmqibdwmwunhunflwsadnktvvqgaaqslqgdgsbonrnmkjbhrowftmctlquuvgqkqevurxoqcfwtllhpiieekjvdlgdguvnubgduapjxfaolsjfnfdtpsntcdagvfnphnnwklbljwugtivuacrvdtqdjnpfjjovundhxthuptxwmtgerpjatetxprsibpjjlixwlxquagdvwwefxstuevmnvnahoiujlwbtfpucnhwfagpwtnptbonwddljhsrovijgfllqvmsmcvhrexnuaiusqscpnhgaaehgfmvurpgtnkuetbvwrstivturppvgnnlecbsxipkcbwgiqrpkfmrsjndhoqvklqfqpttrtfgjfpovsblimwvguiwjcuwklpfksqojkqsicxsccbjinjjvinvwcshherektsujuagopolbhisbbmmxlsiaxtsjpoiplboxkvkuvssisomnhawdvsxfqwgpepsdslcmlqokuvfqkdqcquxtpcdowddlsttexcsaiacqlhwjiaxjeapnjescasjdscjtlgetaopokwtkumpccmgkkpflxuqitfwqfncmuqdldegvnhsnkjecdtfhsarsglbsgrtvlaxadrgilkhbnocftjihkhsrsebsvrwmgwmvndsmqmnplugtliqtxpeuirqjtoncfiakxuubrfoxtbrlkatlasqeibfvihphhqnhjllxrfrrgpeorctpgausruiolmmcvwslejxfgvgvuofuqfhwapctusjofomngawiivanqmfcteovojwrhbikqeilndxolatumxovqdosgdnrlgcicoqowbvxunvoufqaipcogbjtltmpbncdceronsqqjuhniqnegwcirwogdkkafgwspvktwnjpnxtsxqspldpkjswdvsxeshguaiffinbtxocpcnhsswrgqwpjcktdokkdogjuuxgwqjfsbpmwrajkercsjdwvrwsvigwiknbgqrcudprjiifxndamteirudwtpquqrgluovlvbmwdigxnmnhqpnrrpspukmlwcscatvovspuwjlodaorwworljctskldimsicgkvdhgbjsgjlkwenaiaasellgumwindjqtprqdxdmhklkocpecghegqihqxsvlfpbqdneoefwxiuxfcsdftcfsirnvcleunkablilvsxbvtgsdexehqxvqvopfoafbttvhgkpkhamrlbkqhoacdpvwnpwiucpbpkbrecfmncitivinfxwgoseocljmkbtnboeqnkiettnusbuknrpjpqmxdtjdsnimjbvdbqnrqusdjonnpwtnarskapnntfhwhrnsifhlonqjvetqeurjquagrhoquthttptflretmooeglpkkerwototwteghfbuvlqnilmaspvoucrtcfntummjhkgwduuivumjifrkipmhadimmjcajpijewfbqikaumwbenqrgxmgquvmrgdwfwfkfnawgqqkijggkedwmhntwoithwgtiarfkaqffgqadmvhmkkatpwwibpcqhdkcmmjloegnacslfdmixfhrxhiinvakjdadtigbjvsghvgsmagqctexwspvrqnxgohtnceshciitswobcetvmogfeowwbsfvtwlcnuxrejuejsbtmwqojweuqsfepgofknbrgnbhllqjjislmvroksddlnrtlrjxffoeqhgboaveskbjcqneoursiosteegdsvdbblqhgqulnxgnxhecgtaivgielgfirvwrjioicjdhsajgtswwrqhhkmdfhhoaloberwqflvmpaeswfktsasfvjqtprprbxpljbnfwiefnqlblwoducjudpsikbhgeoidkiwxtceihjnwwnxpuiwdrptkogovrakdnpafebxuxmdbhdlnesqcwgcslbeoauuctneximubljmsoaewdphblphgajkkrdwqmlrnrmmhlhasklcdqalabitpohxpdmqfqjphfqwojoqpfntsmmnqwjvovkexpiljwowwfjcoehllffbvpempklfcvdxinxwmhkhiaoahdcruddmkjhawhwusgssenqsgtwboqirbhotmgbkdjgkfubrqpgvbptohksubdoeuqeqjanvhiarfinudspwrkckpmvrpsjkafuivhpevpwvmebokvwptaswprapsvjboafmpuaihmipmawgpjdx"


 /*
 * @param {string} s
 * @return {number}
 */
var firstUniqChar = function(s) {//超时
    let match = ''
    let reg = ''
    for(let i = 0; i < s.length; i++){
        reg = new RegExp(s[i], 'g')
        match = s.match(reg)   
        if (match.length === 1){
            return i
        }
    }
    return -1
};



var firstUniqChar = function(s) {//上面的版本由于使用match全局匹配，所以耗时长，这是使用exec方法进行局部全局匹配优化
    let reg = ''
    let count = 0
    for(let i = 0; i < s.length; i++){
        reg = new RegExp(s[i], 'g')
        count = 0
        while( (match = reg.exec(s)) !== null){
            count++
            if(count >= 2 ){
                break
            }
        }
        if(count === 1){
            return i
        }
            
    }
    return -1
};


var firstUniqChar1 = function(s) {//leetcode上的优质答案
    var str = s.toLowerCase();
    for(var i=0;i<str.length;i++){
        var ch = str.charAt(i);
        //如果后面没有该字符，且前面也没有出现过
        if(str.indexOf(ch) == i && str.lastIndexOf(ch) == i){
            return i;
        }
    }
    return -1;
};



console.time('time')
let result = firstUniqChar(s3)//21.730ms
console.timeEnd('time')

console.time('time1')
result = firstUniqChar1(s3)//2.471ms
console.timeEnd('time1')

/**
 * 使用indexOf和lastIndexOf时间效率远远高于正则表达式， 
 * 因为indexOf方法是比正则表达式更为底层的方法， 
 * 时间效率更高。
 * 
 * 推荐使用indexOf解决问题。
 * 
 * 该题使用indexOf和lastIndexOf判断放回的index值是否相等来判断是否只有一个元素
 * 
 */


console.log(result)